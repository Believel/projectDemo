define("/dist/courses/lesson",["jquery","form","arttemplate"],function(e,s,t){var n=e("jquery");e("form");var a=e("arttemplate"),i=n("#lessonModal"),l=n("#item"),o=n("#total"),r=n("#save");n("#addLesson").on("click",function(){var e=a("lessonTpl",{});return i.find("form").html(e),i.modal(),!1}),n("#AddLesson").on("submit",function(){var e=r.attr("data-key"),s=n('[name="ls_name"]').val(),t=n('[name="ls_minutes"]').val(),d=n('[name="ls_seconds"]').val(),u=l.children().size()+1;return n(this).ajaxSubmit({url:"/course/lesson",type:"post",success:function(n){var r={index:u,lsName:s,lsDuration:t+":"+d},m=a("lessonListTpl",r);e?(l.find("li").eq(e).find("span.name").html(s),l.find("li").eq(e).find("span.duration").html(t+":"+d)):l.append(m),o.text("课时 : "+u),i.modal("hide")}}),!1}),l.on("click",".btn",function(){var e=n(this),s=e.parents("li").attr("data-id"),t=e.parents("li").index();e.is(".edit")&&(r.attr("data-key",t),n.ajax({url:"/course/lesson/edit",data:{ls_id:s},type:"post",success:function(e){var s=e.ls_video_duration.split(":")[0],t=e.ls_video_duration.split(":")[1];e.ls_minutes=s,e.ls_seconds=t;var n=a("lessonTpl",e);i.find("form").html(n),i.modal()}})),e.is(".preview")&&alert("预览"),e.is(".delete")&&alert("删除")})});